{"ts":1362255519820,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php\nnamespace Application\\Model;\n\nuse Zend\\Db\\TableGateway\\TableGateway;\n\nclass PostTable\n{\n    protected $tableGateway;\n\n    public function __construct(TableGateway $tableGateway)\n    {\n        $this->tableGateway = $tableGateway;\n    }\n\n    public function fetchAll()\n    {\n        $resultSet = $this->tableGateway->select();\n        return $resultSet;\n    }\n\n    public function getPost($id)\n    {\n        $id  = (int) $id;\n        $rowset = $this->tableGateway->select(array('id' => $id));\n        $row = $rowset->current();\n        if (!$row) {\n            throw new \\Exception(\"Could not find row $id\");\n        }\n        return $row;\n    }\n\n    public function savePost(Post $post)\n    {\n        $data = array(\n            'user_id' => $post->user->id,\n            'body'  => $post->body,\n        );\n\n        $id = (int)$post->id;\n        if ($id == 0) {\n            $this->tableGateway->insert($data);\n        } else {\n            if ($this->getPost($id)) {\n                $this->tableGateway->update($data, array('id' => $id));\n            } else {\n                throw new \\Exception('Form id does not exist');\n            }\n        }\n    }\n\n    public function deletePost($id)\n    {\n        $this->tableGateway->delete(array('id' => $id));\n    }\n}"]],"start1":0,"start2":0,"length1":0,"length2":1263}]],"length":1263}
{"contributors":[],"silentsave":false,"ts":1362255530346,"patch":[[{"diffs":[[0,"->select();\n"],[1,"        echo \"HERE\";\n"],[0,"        retu"]],"start1":319,"start2":319,"length1":24,"length2":45}]],"length":1284,"saved":false}
{"ts":1362255539269,"patch":[[{"diffs":[[0,"etchAll()\n    {\n"],[1,"        echo \"HERE\";\n"],[0,"        $resultS"]],"start1":263,"start2":263,"length1":32,"length2":53},{"diffs":[[0,"lect();\n"],[-1,"        echo \"HERE\";\n"],[0,"        "]],"start1":344,"start2":344,"length1":37,"length2":16}]],"length":1284,"saved":false}
{"ts":1362255548128,"patch":[[{"diffs":[[0,"  {\n"],[-1,"        echo \"HERE\";\n"],[0,"    "]],"start1":275,"start2":275,"length1":29,"length2":8}]],"length":1263,"saved":false}
{"contributors":[],"silentsave":false,"ts":1362259865448,"patch":[[{"diffs":[[0,"ltSet;\n    }"],[1,"\n    \n    public function fetchAllByUser(User $user) {\n        $resultSet = $this->tableGateway->select(array('user_id'=>$user->id));\n        return $resultSet;\n    }"],[0,"\n\n    public"]],"start1":351,"start2":351,"length1":24,"length2":190}]],"length":1429,"saved":false}
